# ğŸ” æœç´¢åŠŸèƒ½å®šä½æ–‡æ¡£ v7.65

> **ç‰ˆæœ¬**: v7.65
> **åˆ›å»ºæ—¥æœŸ**: 2026-01-03
> **ç›®æ ‡**: å»ºç«‹æ¸…æ™°ã€å¯æ‰§è¡Œçš„æœç´¢åŠŸèƒ½å®šä½è§„èŒƒï¼Œç¡®ä¿LLMåœ¨æ­£ç¡®æ—¶æœºä½¿ç”¨æ­£ç¡®å·¥å…·æ‰§è¡Œç²¾å‡†æŸ¥è¯¢

---

## ğŸ“‹ ä¼˜åŒ–æ€»ç»“

æœ¬æ¬¡ä¼˜åŒ–é’ˆå¯¹æœç´¢åŠŸèƒ½çš„5ä¸ªæ ¸å¿ƒç¼ºé™·è¿›è¡Œç³»ç»ŸåŒ–æ”¹è¿›ï¼Œå¹¶å…è®¸V2è®¾è®¡æ€»ç›‘ä½¿ç”¨RAGFlowå†…éƒ¨çŸ¥è¯†åº“ï¼š

### âœ… å·²å®Œæˆçš„ä¼˜åŒ–

1. **âœ“ å…è®¸V2ä½¿ç”¨RAGFlowå†…éƒ¨çŸ¥è¯†åº“**
   - ä¿®æ”¹ `role_tool_mapping`: `"V2": ["ragflow"]`
   - è®¾è®¡æ€»ç›‘å¯æŸ¥è¯¢ç»„ç»‡å†…éƒ¨æ²‰æ·€çš„è®¾è®¡çŸ¥è¯†
   - ä¿æŒç¦æ­¢å¤–éƒ¨æœç´¢ï¼Œé¿å…ç›²ç›®è·Ÿé£

2. **âœ“ æ‰©å±•FORMAT_SEARCH_TERMSæ˜ å°„è¡¨**
   - ä»30ç§æ ¼å¼æ‰©å±•åˆ°50+ç§
   - æ–°å¢ï¼šmoodboard, wireframe, storyboard, floorplan, trend_analysisç­‰
   - è¦†ç›–æ›´å¤šè®¾è®¡åœºæ™¯å’Œäº¤ä»˜ç‰©ç±»å‹

3. **âœ“ å®ç°å·¥å…·æè¿°åŠ¨æ€åŠ è½½æœºåˆ¶**
   - V4/V6ç ”ç©¶å‹è§’è‰²ï¼šå®Œæ•´ç‰ˆæè¿°ï¼ˆ200å­—ï¼ŒåŒ…å«é€‚ç”¨åœºæ™¯ã€ç¤ºä¾‹ï¼‰
   - V3/V5å…¶ä»–è§’è‰²ï¼šç®€åŒ–ç‰ˆæè¿°ï¼ˆ50å­—ï¼Œæ ¸å¿ƒåŠŸèƒ½ï¼‰
   - å¹³è¡¡æŒ‡å¯¼æ€§ä¸tokenæˆæœ¬

4. **âœ“ å¢åŠ require_searchæ ‡è®°æ”¯æŒ**
   - `DeliverableSpec`æ–°å¢ `require_search: bool` å­—æ®µ
   - é’ˆå¯¹"æ¡ˆä¾‹åº“"ã€"è¶‹åŠ¿åˆ†æ"ç­‰ç±»å‹å¼ºåˆ¶è¦æ±‚æœç´¢
   - æç¤ºè¯ä¸­æ˜ç¡®æ ‡æ³¨ ğŸ”å¿…é¡»æœç´¢

5. **âœ“ ä¼˜åŒ–æç¤ºè¯å“åº”require_searchæ ‡è®°**
   - æ–°å¢"ğŸ” æœç´¢å·¥å…·ä½¿ç”¨æŒ‡å¼•"ç« èŠ‚
   - æ˜ç¡®MUST/SHOULD/MAYä¸‰çº§æœç´¢å†³ç­–è§„åˆ™
   - ç¦æ­¢è‡ªè¡Œç¼–é€ æ•°æ®ï¼Œå¼ºåˆ¶ä½¿ç”¨å·¥å…·è·å–

---

## ğŸ¯ æœç´¢è§¦å‘å†³ç­–çŸ©é˜µ

### MUSTæœç´¢ï¼ˆå¼ºåˆ¶åœºæ™¯ï¼‰

| è§¦å‘æ¡ä»¶ | äº¤ä»˜ç‰©ç±»å‹ç¤ºä¾‹ | å·¥å…·é€‰æ‹© |
|---------|--------------|---------|
| `require_search=true` | æ¡ˆä¾‹åº“ã€è¶‹åŠ¿åˆ†æã€best practices | Tavily/Bocha |
| éœ€è¦2023+æœ€æ–°æ•°æ® | è¡Œä¸šè¶‹åŠ¿æŠ¥å‘Šã€æŠ€æœ¯å‘å±• | Tavily |
| å­¦æœ¯ç†è®ºä¾æ® | äººå› å·¥ç¨‹åˆ†æã€è¯„ä¼°æ ‡å‡† | Arxiv |
| ç»„ç»‡å†…éƒ¨çŸ¥è¯†ï¼ˆV2ä¸“ç”¨ï¼‰ | è®¾è®¡è§„èŒƒã€å†å²é¡¹ç›® | RAGFlow |

### SHOULDæœç´¢ï¼ˆå»ºè®®åœºæ™¯ï¼‰

| è§¦å‘æ¡ä»¶ | è¯´æ˜ | ç¤ºä¾‹ |
|---------|------|------|
| æåˆ°å…·ä½“å“ç‰Œ/è¡Œä¸š | éœ€è¦è¡Œä¸šç‰¹å®šä¿¡æ¯ | "æ˜Ÿå·´å…‹ç©ºé—´è®¾è®¡ç­–ç•¥" |
| éœ€è¦å…·ä½“æ•°æ®æ”¯æ’‘ | å°ºå¯¸ã€æˆæœ¬ã€è§„èŒƒ | "æ— éšœç¢é€šé“å®½åº¦æ ‡å‡†" |
| è·¨é¢†åŸŸçŸ¥è¯† | ä¸“ä¸šå¤–çŸ¥è¯†éœ€è¦éªŒè¯ | "å•†ä¸šç©ºé—´å¿ƒç†å­¦åº”ç”¨" |

### MAYæœç´¢ï¼ˆå¯é€‰åœºæ™¯ï¼‰

| è§¦å‘æ¡ä»¶ | è¯´æ˜ | ç¤ºä¾‹ |
|---------|------|------|
| æ‰©å±•è§†é‡ | å¢åŠ çµæ„Ÿå’Œå‚è€ƒ | "å…¨çƒåˆ›æ–°é›¶å”®è®¾è®¡" |
| éªŒè¯åˆ¤æ–­ | ç¡®è®¤å·²æœ‰è§‚ç‚¹å‡†ç¡®æ€§ | "æç®€é£æ ¼ç‰¹å¾éªŒè¯" |

### âŒ ç¦æ­¢è‡ªè¡Œç¼–é€ 

- ä¸å¾—è™šæ„æ¡ˆä¾‹ã€æ•°æ®ã€è¶‹åŠ¿
- ä¸å¾—è‡†æµ‹å“ç‰Œç­–ç•¥æˆ–é¡¹ç›®è¯¦æƒ…
- ä¸å¾—ç¼–é€ å­¦æœ¯ç ”ç©¶æˆ–ç»Ÿè®¡æ•°å­—

---

## ğŸ”§ å·¥å…·é€‰æ‹©å†³ç­–æ ‘

```
éœ€è¦å¤–éƒ¨èµ„æ–™ï¼Ÿ
â”œâ”€ YES â†’ ç»§ç»­åˆ¤æ–­
â”‚   â”œâ”€ å­¦æœ¯ç†è®º/æ–¹æ³•è®ºï¼Ÿ
â”‚   â”‚   â””â”€ YES â†’ Arxiv (å­¦æœ¯è®ºæ–‡æœç´¢)
â”‚   â”œâ”€ 2023å¹´åæœ€æ–°è¶‹åŠ¿ï¼Ÿ
â”‚   â”‚   â””â”€ YES â†’ Tavily (å›½é™…æ¡ˆä¾‹) æˆ– Bocha (ä¸­æ–‡æœ¬åœŸ)
â”‚   â”œâ”€ ä¸­æ–‡æœ¬åœŸæ¡ˆä¾‹ï¼Ÿ
â”‚   â”‚   â””â”€ YES â†’ Bocha (ä¸­æ–‡AIæœç´¢)
â”‚   â”œâ”€ ç»„ç»‡å†…éƒ¨çŸ¥è¯†ï¼Ÿï¼ˆä»…V2ï¼‰
â”‚   â”‚   â””â”€ YES â†’ RAGFlow (å†…éƒ¨çŸ¥è¯†åº“)
â”‚   â””â”€ ç»¼åˆè®¾è®¡æ¡ˆä¾‹ï¼Ÿ
â”‚       â””â”€ YES â†’ Tavily + Bocha (å¤šå·¥å…·ç»„åˆ)
â””â”€ NO â†’ ä¾èµ–ä¸“ä¸šçŸ¥è¯†ï¼Œæ— éœ€æœç´¢
```

### å·¥å…·ç‰¹æ€§å¯¹æ¯”

| å·¥å…· | é€‚ç”¨åœºæ™¯ | ä¼˜åŠ¿ | ä¸é€‚ç”¨åœºæ™¯ |
|-----|---------|------|----------|
| **Tavily** | å›½é™…æ¡ˆä¾‹ã€æœ€æ–°è¶‹åŠ¿ | å®æ—¶ç½‘ç»œã€2023+æ•°æ®ã€è‹±æ–‡èµ„æºä¸°å¯Œ | å­¦æœ¯è®ºæ–‡ã€çº¯ä¸­æ–‡æœ¬åœŸ |
| **Arxiv** | å­¦æœ¯ç†è®ºã€æ–¹æ³•è®º | ç§‘å­¦ä¾æ®ã€ç ”ç©¶æ–¹æ³•ã€æŠ€æœ¯æ–‡çŒ® | å•†ä¸šæ¡ˆä¾‹ã€å®æ—¶ä¿¡æ¯ |
| **Bocha** | ä¸­æ–‡æœ¬åœŸæ¡ˆä¾‹ | ä¸­æ–‡AIæœç´¢ã€æœ¬åœŸæ¡ˆä¾‹ã€æ–‡åŒ–é€‚é… | å›½é™…è¶‹åŠ¿ã€å­¦æœ¯è®ºæ–‡ |
| **RAGFlow** | å†…éƒ¨ç»„ç»‡çŸ¥è¯†ï¼ˆV2ä¸“ç”¨ï¼‰ | ç»„ç»‡æ²‰æ·€ã€å†å²é¡¹ç›®ã€å†…éƒ¨è§„èŒƒ | å¤–éƒ¨æœ€æ–°ä¿¡æ¯ã€è¡Œä¸šåŠ¨æ€ |

---

## ğŸ‘¥ è§’è‰²-å·¥å…·è®¿é—®æƒé™è¡¨

| è§’è‰² | å·¥å…·æƒé™ | è®¾è®¡ç†ç”± |
|-----|---------|---------|
| **V2 è®¾è®¡æ€»ç›‘** | `["ragflow"]` | å…è®¸å†…éƒ¨çŸ¥è¯†åº“æŸ¥è¯¢ï¼Œç¦æ­¢å¤–éƒ¨æœç´¢é¿å…ç›²ç›®è·Ÿé£ |
| **V3 å™äº‹ä¸“å®¶** | `["bocha", "tavily", "ragflow"]` | éœ€è¦æ–‡åŒ–æ´å¯Ÿå’Œæ¡ˆä¾‹ï¼Œæ— éœ€å­¦æœ¯è®ºæ–‡ |
| **V4 è®¾è®¡ç ”ç©¶å‘˜** | `["bocha", "tavily", "arxiv", "ragflow"]` | å…¨å·¥å…·è®¿é—®ï¼Œç ”ç©¶é©±åŠ¨ |
| **V5 åœºæ™¯ä¸“å®¶** | `["bocha", "tavily", "ragflow"]` | è¡Œä¸šæ¡ˆä¾‹ä¸ºä¸»ï¼Œæ— éœ€å­¦æœ¯æ·±åº¦ |
| **V6 æ€»å·¥ç¨‹å¸ˆ** | `["bocha", "tavily", "arxiv", "ragflow"]` | å…¨å·¥å…·è®¿é—®ï¼ŒæŠ€æœ¯è§„èŒƒéœ€è¦å­¦æœ¯æ”¯æ’‘ |

### V2ç‰¹æ®Šè¯´æ˜

- **åŸé€»è¾‘**: å®Œå…¨ç¦æ­¢æœç´¢ `"V2": []`
- **æ–°é€»è¾‘**: å…è®¸å†…éƒ¨çŸ¥è¯†åº“ `"V2": ["ragflow"]`
- **è®¾è®¡å“²å­¦**:
  - âœ… å¯ä»¥æŸ¥è¯¢ç»„ç»‡å†…éƒ¨æ²‰æ·€çš„è®¾è®¡çŸ¥è¯†ã€å†å²é¡¹ç›®ç»éªŒ
  - âŒ ä¸å…è®¸æœç´¢å¤–éƒ¨æœ€æ–°è¶‹åŠ¿ï¼Œé¿å…è¢«æµè¡Œé£æ ¼ç‰µå¼•
  - ğŸ’¡ V2ä½œä¸ºè®¾è®¡æ€»ç›‘åº”åŸºäºä¸“ä¸šåˆ¤æ–­å’Œå†…éƒ¨ç§¯ç´¯åšå†³ç­–

---

## ğŸ“ æŸ¥è¯¢æ„å»ºè´¨é‡æ ‡å‡†

### FORMAT_SEARCH_TERMSæ˜ å°„è¡¨ï¼ˆv7.65æ‰©å±•ï¼‰

#### è®¾è®¡ç±»ï¼ˆ12ç§ï¼‰
- `design`, `concept`, `blueprint`, `diagram`, `spatial_design`
- `moodboard`, `stylescape`, `colorpalette`, `material_board`
- `floorplan`, `elevation`, `section`

#### åˆ†æç±»ï¼ˆ11ç§ï¼‰
- `analysis`, `evaluation`, `assessment`, `audit`, `benchmark`
- `research`, `insight`, `swot`, `gap_analysis`
- `competitor_analysis`, `market_research`, **`trend_analysis`** ğŸ”

#### ç”¨æˆ·ä½“éªŒç±»ï¼ˆ10ç§ï¼‰
- `persona`, `journey_map`, `experience_map`, `scenario`
- `wireframe`, `prototype`, `storyboard`, `empathy_map`
- `service_blueprint`, `touchpoint_map`

#### æ¡ˆä¾‹ä¸èµ„æ–™åº“ï¼ˆ5ç§ï¼‰ğŸ”
- **`case_library`**, **`best_practices`**, `case_study`
- `reference_library`, `precedent_study`

> ğŸ’¡ æ ‡è®° ğŸ” çš„æ ¼å¼å»ºè®®è‡ªåŠ¨è®¾ç½® `require_search=true`

### æŸ¥è¯¢ä¼˜åŒ–æµç¨‹

1. **å…³é”®è¯æå–**:
   - name: å–top 2å…³é”®è¯
   - description: å–top 5å…³é”®è¯

2. **æ ¼å¼æ˜ å°„**:
   - æŸ¥æ‰¾FORMAT_SEARCH_TERMS
   - Unmappedæ—¶: ä»descriptionæå–top 3æœ¯è¯­ + formatåŸæ–‡

3. **é¡¹ç›®ä¸Šä¸‹æ–‡**:
   - æ·»åŠ PROJECT_TYPE_CONTEXT (å¦‚"commercial space design")

4. **å¤šå·¥å…·é€‚é…**:
   - Tavily: å›½é™…åŒ–å…³é”®è¯
   - Arxiv: å­¦æœ¯åŒ–æœ¯è¯­ + "methodology"
   - RAGFlow/Bocha: ä¿ç•™ä¸­æ–‡åŸæ–‡

### æŸ¥è¯¢ç¤ºä¾‹

**è¾“å…¥**:
```json
{
  "name": "ç”¨æˆ·æ—…ç¨‹åœ°å›¾",
  "description": "è®¾è®¡å®Œæ•´çš„ç”¨æˆ·ä½“éªŒæµç¨‹ï¼Œæ ‡æ³¨å…³é”®è§¦ç‚¹",
  "format": "journey_map",
  "require_search": false
}
```

**è¾“å‡º**:
```python
{
  "tavily": "ç”¨æˆ· æ—…ç¨‹ åœ°å›¾ customer journey mapping techniques commercial space",
  "arxiv": "ç”¨æˆ· æ—…ç¨‹ åœ°å›¾ customer journey mapping techniques methodology",
  "bocha": "ç”¨æˆ·æ—…ç¨‹åœ°å›¾ ä½“éªŒæµç¨‹ è§¦ç‚¹",
  "ragflow": "ç”¨æˆ·æ—…ç¨‹åœ°å›¾"
}
```

---

## âœ… æœç´¢ç»“æœè¯„ä¼°å‡†åˆ™

### è´¨é‡æ§åˆ¶ç®¡é“ï¼ˆv7.64ï¼‰

1. **ç›¸å…³æ€§è¿‡æ»¤**: é˜ˆå€¼ â‰¥ 0.6
2. **å»é‡**: åŸºäº `url` + `title` ç›¸ä¼¼åº¦
3. **æ¥æºå¯ä¿¡åº¦è¯„ä¼°**:
   - High: å®˜æ–¹æ–‡æ¡£ã€çŸ¥åæœºæ„ã€å­¦æœ¯æœŸåˆŠ
   - Medium: ä¸“ä¸šåšå®¢ã€è¡Œä¸šç½‘ç«™
   - Low: ä¸ªäººåšå®¢ã€æœªçŸ¥æ¥æº

4. **ç»¼åˆè´¨é‡è¯„åˆ†**:
   - ç›¸å…³æ€§ 40%
   - æ—¶æ•ˆæ€§ 20%
   - å¯ä¿¡åº¦ 20%
   - å®Œæ•´æ€§ 20%

### SearchReferenceæ ‡å‡†æ ¼å¼

```python
{
  "source_tool": "tavily" | "arxiv" | "bocha" | "ragflow",
  "title": str,
  "url": str,
  "snippet": str (max 300 chars),
  "relevance_score": float (0-1),
  "quality_score": float (0-100),
  "source_credibility": "high" | "medium" | "low",
  "deliverable_id": str,
  "query": str,
  "timestamp": str (ISO 8601)
}
```

---

## ğŸ“Š ç›‘æ§ä¸å‘Šè­¦è§„èŒƒ

### å…³é”®æŒ‡æ ‡

1. **å·¥å…·ä½¿ç”¨ç‡**:
   - æ¯ä¸“å®¶æœç´¢æ¬¡æ•°ï¼ˆç›®æ ‡ï¼šV4/V6 â‰¥ 2æ¬¡ï¼ŒV3/V5 â‰¥ 1æ¬¡ï¼‰
   - V2ä½¿ç”¨RAGFlowé¢‘æ¬¡ï¼ˆç›®æ ‡ï¼šâ‰¥ 1æ¬¡/é¡¹ç›®ï¼‰

2. **æŸ¥è¯¢è´¨é‡**:
   - å¹³å‡quality_scoreï¼ˆç›®æ ‡ï¼šâ‰¥ 70åˆ†ï¼‰
   - ç›¸å…³æ€§scoreåˆ†å¸ƒ

3. **æˆåŠŸç‡**:
   - æœç´¢æˆåŠŸç‡ï¼ˆç›®æ ‡ï¼šâ‰¥ 90%ï¼‰
   - APIè°ƒç”¨å¤±è´¥ç‡ï¼ˆç›®æ ‡ï¼š< 5%ï¼‰

### å‘Šè­¦è§„åˆ™

| å‘Šè­¦ç±»å‹ | è§¦å‘æ¡ä»¶ | ä¸¥é‡çº§åˆ« |
|---------|---------|---------|
| é›¶æœç´¢ä¸“å®¶ | require_search=trueçš„äº¤ä»˜ç‰©æœªä½¿ç”¨æœç´¢ | ğŸ”´ Critical |
| ä½è´¨é‡ç»“æœ | quality_score < 50 | ğŸŸ¡ Warning |
| APIå¤±è´¥ | è¿ç»­3æ¬¡è°ƒç”¨å¤±è´¥ | ğŸ”´ Critical |
| è¿‡åº¦æœç´¢ | å•ä¸“å®¶æœç´¢ > 10æ¬¡ | ğŸŸ¡ Warning |

### æ—¥å¿—ç¤ºä¾‹

```log
âœ… [V4 è®¾è®¡ç ”ç©¶å‘˜] æœç´¢å·¥å…·è°ƒç”¨ç»Ÿè®¡:
   - Tavily: 3æ¬¡, å¹³å‡è´¨é‡ 82åˆ†
   - Arxiv: 1æ¬¡, å¹³å‡è´¨é‡ 88åˆ†
   - æ€»å¼•ç”¨: 12æ¡

âš ï¸ [V3 å™äº‹ä¸“å®¶] æ£€æµ‹åˆ° require_search=true çš„äº¤ä»˜ç‰©"æ¡ˆä¾‹åº“"æœªä½¿ç”¨æœç´¢å·¥å…·
```

---

## ğŸ“ æœ€ä½³å®è·µæ¡ˆä¾‹

### æ¡ˆä¾‹1ï¼šè¶‹åŠ¿åˆ†æäº¤ä»˜ç‰©ï¼ˆMUSTæœç´¢ï¼‰

**é…ç½®**:
```json
{
  "name": "2024å•†ä¸šç©ºé—´è®¾è®¡è¶‹åŠ¿",
  "description": "åˆ†ææœ€æ–°å•†ä¸šç©ºé—´è®¾è®¡è¶‹åŠ¿ï¼ŒåŒ…æ‹¬å¯æŒç»­æ€§ã€æ™ºèƒ½åŒ–ç­‰æ–¹å‘",
  "format": "trend_analysis",
  "require_search": true,
  "success_criteria": ["åŸºäº2023-2024çœŸå®æ•°æ®", "è‡³å°‘5ä¸ªå›½å†…å¤–æ¡ˆä¾‹"]
}
```

**LLMæ‰§è¡Œ**:
1. è¯†åˆ« `require_search=true` æ ‡è®°
2. è°ƒç”¨ `Tavily.search("commercial space design trends 2024 sustainable smart")`
3. è°ƒç”¨ `Bocha.search("å•†ä¸šç©ºé—´è®¾è®¡è¶‹åŠ¿ 2024")`
4. æ•´åˆæœç´¢ç»“æœï¼Œå¼•ç”¨å…·ä½“æ¡ˆä¾‹

**è¾“å‡ºè´¨é‡**:
- âœ… åŒ…å«10+æ¡SearchReference
- âœ… å¼•ç”¨å…·ä½“å“ç‰Œå’Œé¡¹ç›®ï¼ˆå¦‚"æ˜Ÿå·´å…‹ç»¿è‰²é—¨åº—è®¡åˆ’"ï¼‰
- âœ… åŸºäºçœŸå®æ•°æ®è€Œéè‡†æµ‹

### æ¡ˆä¾‹2ï¼šè®¾è®¡æ–¹æ¡ˆäº¤ä»˜ç‰©ï¼ˆMAYæœç´¢ï¼‰

**é…ç½®**:
```json
{
  "name": "ç©ºé—´åŠ¨çº¿è®¾è®¡æ–¹æ¡ˆ",
  "description": "ä¼˜åŒ–200å¹³ç±³å•†ä¸šç©ºé—´çš„é¡¾å®¢åŠ¨çº¿ï¼Œæå‡ä½“éªŒ",
  "format": "design",
  "require_search": false,
  "success_criteria": ["ç¬¦åˆäººå› å·¥ç¨‹æ ‡å‡†", "å¯æ“ä½œæ€§å¼º"]
}
```

**LLMæ‰§è¡Œ**:
1. æ—  `require_search` å¼ºåˆ¶è¦æ±‚
2. LLMåˆ¤æ–­ï¼šéœ€è¦éªŒè¯"äººå› å·¥ç¨‹æ ‡å‡†"
3. å¯é€‰è°ƒç”¨ `Arxiv.search("wayfinding design retail space methodology")`
4. åŸºäºä¸“ä¸šçŸ¥è¯† + å¯é€‰å­¦æœ¯ä¾æ®å®Œæˆ

**è¾“å‡ºè´¨é‡**:
- âœ… ä¸»è¦ä¾èµ–ä¸“ä¸šçŸ¥è¯†
- âœ… å…³é”®æ ‡å‡†æœ‰å­¦æœ¯å¼•ç”¨æ”¯æ’‘
- âœ… å¹³è¡¡åŸåˆ›æ€§å’Œä¾æ®æ€§

### æ¡ˆä¾‹3ï¼šV2ä½¿ç”¨å†…éƒ¨çŸ¥è¯†åº“

**é…ç½®**:
```json
{
  "role": "V2 è®¾è®¡æ€»ç›‘",
  "deliverable": {
    "name": "è®¾è®¡ç»¼åˆæ–¹æ¡ˆ",
    "description": "æ•´åˆæ‰€æœ‰ä¸“å®¶å»ºè®®ï¼Œåˆ¶å®šæœ€ç»ˆæ–¹æ¡ˆ",
    "format": "design",
    "require_search": false
  }
}
```

**LLMæ‰§è¡Œ**:
1. V2è§’è‰²æœ‰ `["ragflow"]` æƒé™
2. å¯é€‰è°ƒç”¨ `RAGFlow.search("ç±»ä¼¼é¡¹ç›®è®¾è®¡æ–¹æ¡ˆ")`
3. æŸ¥è¯¢ç»„ç»‡å†…éƒ¨å†å²é¡¹ç›®ç»éªŒ
4. åŸºäºä¸“ä¸šåˆ¤æ–­ + å†…éƒ¨ç»éªŒå®Œæˆ

**è¾“å‡ºè´¨é‡**:
- âœ… ç¬¦åˆç»„ç»‡è®¾è®¡é£æ ¼å’Œæ ‡å‡†
- âœ… å€Ÿé‰´å†…éƒ¨æˆåŠŸç»éªŒ
- âœ… ä¸å—å¤–éƒ¨æµè¡Œè¶‹åŠ¿å¹²æ‰°

---

## ğŸ”„ ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | ä¸»è¦å˜æ›´ |
|-----|------|---------|
| v7.65 | 2026-01-03 | â€¢ å…è®¸V2ä½¿ç”¨RAGFlow<br>â€¢ æ‰©å±•FORMAT_SEARCH_TERMSåˆ°50+<br>â€¢ å®ç°å·¥å…·æè¿°åŠ¨æ€åŠ è½½<br>â€¢ å¢åŠ require_searchæ ‡è®°<br>â€¢ ä¼˜åŒ–æç¤ºè¯æœç´¢æŒ‡å¼• |
| v7.64 | 2025-12-30 | â€¢ å¼•å…¥search_for_deliverable<br>â€¢ å¢åŠ è´¨é‡æ§åˆ¶ç®¡é“<br>â€¢ DeliverableQueryBuilder |
| v7.63 | 2025-12-28 | â€¢ æ·»åŠ å·¥å…·ç»‘å®šæ”¯æŒ<br>â€¢ ToolCallRecorderæœºåˆ¶ |

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å·¥å…·æ¨¡å—æ–‡æ¡£](intelligent_project_analyzer/tools/CLAUDE.md)
- [æŸ¥è¯¢æ„å»ºå™¨](intelligent_project_analyzer/tools/query_builder.py)
- [è´¨é‡æ§åˆ¶](intelligent_project_analyzer/tools/search_quality_control.py)
- [è§’è‰²å·¥å…·æ˜ å°„](intelligent_project_analyzer/workflow/main_workflow.py#L2574-L2585)
- [æç¤ºè¯æ¨¡æ¿](intelligent_project_analyzer/core/prompt_templates.py#L170-L200)

---

## â“ FAQ

### Q: å¦‚ä½•ä¸ºæ–°äº¤ä»˜ç‰©ç±»å‹æ·»åŠ æ˜ å°„ï¼Ÿ

ç¼–è¾‘ `query_builder.py` çš„ `FORMAT_SEARCH_TERMS`:
```python
"new_format": "professional search terms",
```

### Q: å¦‚ä½•è°ƒæ•´è´¨é‡è¯„åˆ†æƒé‡ï¼Ÿ

ä¿®æ”¹ `search_quality_control.py` çš„è¯„åˆ†ç®—æ³•:
```python
quality_score = (
    relevance * 0.4 +  # ç›¸å…³æ€§æƒé‡
    timeliness * 0.2 +  # æ—¶æ•ˆæ€§æƒé‡
    credibility * 0.2 +  # å¯ä¿¡åº¦æƒé‡
    completeness * 0.2  # å®Œæ•´æ€§æƒé‡
)
```

### Q: require_search=trueä½†LLMæœªæœç´¢æ€ä¹ˆåŠï¼Ÿ

1. æ£€æŸ¥æç¤ºè¯æ˜¯å¦åŒ…å«æœç´¢æŒ‡å¼•ç« èŠ‚
2. æ£€æŸ¥å·¥å…·æ˜¯å¦æ­£ç¡®ç»‘å®šåˆ°LLM
3. æŸ¥çœ‹æ—¥å¿—ç¡®è®¤å·¥å…·å¯ç”¨æ€§
4. è€ƒè™‘åœ¨æç¤ºè¯ä¸­è¿›ä¸€æ­¥å¼ºåŒ–å¼ºåˆ¶æ€§

### Q: å·¥å…·æè¿°ä½•æ—¶ä½¿ç”¨ç®€åŒ–ç‰ˆ/å®Œæ•´ç‰ˆï¼Ÿ

- V4/V6ï¼ˆç ”ç©¶å‹è§’è‰²ï¼‰: å®Œæ•´ç‰ˆï¼ˆéœ€è¦è¯¦ç»†æŒ‡å¯¼ï¼‰
- V3/V5/V2ï¼ˆæ‰§è¡Œå‹è§’è‰²ï¼‰: ç®€åŒ–ç‰ˆï¼ˆé™ä½tokenæˆæœ¬ï¼‰
- å¯é€šè¿‡ `_current_role_type` å±æ€§æ§åˆ¶

---

**æ–‡æ¡£ç»´æŠ¤è€…**: AIå¼€å‘å›¢é˜Ÿ
**æœ€åæ›´æ–°**: 2026-01-03
**åé¦ˆæ¸ é“**: GitHub Issues / é¡¹ç›®è®¨è®ºåŒº
