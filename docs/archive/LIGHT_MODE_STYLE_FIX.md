# æµ…è‰²æ¨¡å¼æ ·å¼ä¿®æ­£è¯´æ˜

## é—®é¢˜æè¿°

åœ¨æµ…è‰²æ¨¡å¼ä¸‹ï¼ŒNext.js åº”ç”¨çš„æ–‡å­—é¢œè‰²å¯¹æ¯”åº¦ä¸è¶³ï¼Œå¯¼è‡´é˜…è¯»å›°éš¾ï¼š

- å·¦ä¾§å¯¼èˆªæ æ–‡å­—é¢œè‰²å¤ªæµ…
- å³ä¾§å†…å®¹åŒºåŸŸçš„ç°è‰²æ–‡å­—éš¾ä»¥è¾¨è®¤
- æ•´ä½“è§†è§‰ä½“éªŒä¸ä½³

**æ ¹æœ¬åŸå› **ï¼š
- ä»£ç ä¸­å¤§é‡ä½¿ç”¨ `text-gray-400`ã€`text-gray-500` ç­‰ Tailwind CSS ç±»å
- è¿™äº›ç±»ååœ¨æ·±è‰²æ¨¡å¼ä¸‹æ­£å¸¸ï¼Œä½†åœ¨æµ…è‰²æ¨¡å¼ä¸‹å¯¹æ¯”åº¦å¤ªä½

---

## ä¿®å¤æ–¹æ¡ˆ

### 1. ä¼˜åŒ– CSS å˜é‡å®šä¹‰

**æ–‡ä»¶**: [frontend-nextjs/app/globals.css](frontend-nextjs/app/globals.css)

#### ä¿®æ”¹å‰ï¼ˆv7.10.0ï¼‰
```css
[data-theme="light"] {
  --background: #ffffff;
  --foreground: #1a1a1a;
  --foreground-secondary: #666666;  /* å¤ªæµ… */
  --sidebar-bg: #f5f5f5;  /* å¯¹æ¯”åº¦ä¸è¶³ */
  --border-color: #e0e0e0;  /* å¤ªæµ… */
}
```

#### ä¿®æ”¹åï¼ˆv7.10.1ï¼‰
```css
[data-theme="light"] {
  --background: #ffffff;
  --foreground: #1a1a1a;
  --foreground-secondary: #4a5568;  /* åŠ æ·±å¯¹æ¯”åº¦ */
  --sidebar-bg: #f7fafc;  /* æ›´æ˜æ˜¾çš„ä¾§è¾¹æ èƒŒæ™¯ */
  --border-color: #cbd5e0;  /* åŠ æ·±è¾¹æ¡†é¢œè‰² */
}
```

**æ”¹è¿›ç‚¹**ï¼š
- âœ… `--foreground-secondary`ï¼šä» `#666666`ï¼ˆä¸­ç°ï¼‰æ”¹ä¸º `#4a5568`ï¼ˆæ·±ç°ï¼‰ï¼Œå¯¹æ¯”åº¦ä» 4.5:1 æå‡åˆ° 7:1
- âœ… `--sidebar-bg`ï¼šä» `#f5f5f5` æ”¹ä¸º `#f7fafc`ï¼Œä¸ä¸»èƒŒæ™¯åŒºåˆ†æ›´æ˜æ˜¾
- âœ… `--border-color`ï¼šä» `#e0e0e0` æ”¹ä¸º `#cbd5e0`ï¼Œè¾¹æ¡†æ›´æ¸…æ™°

---

### 2. æ·»åŠ è‡ªé€‚åº”æ–‡å­—é¢œè‰²å·¥å…·ç±»

**åœ¨ `@layer utilities` ä¸­æ·»åŠ **ï¼š

```css
/* ğŸ¨ è‡ªé€‚åº”æ–‡å­—é¢œè‰²å·¥å…·ç±» */
.text-adaptive-primary {
  color: var(--foreground);
}

.text-adaptive-secondary {
  color: var(--foreground-secondary);
}

/* æµ…è‰²æ¨¡å¼ä¸‹æ–‡å­—é¢œè‰²è°ƒæ•´ */
[data-theme="light"] .text-gray-400 {
  color: #4a5568 !important;  /* æ·±ç°è‰²ï¼Œç¡®ä¿å¯¹æ¯”åº¦ */
}

[data-theme="light"] .text-gray-500 {
  color: #718096 !important;  /* ä¸­ç°è‰² */
}

[data-theme="light"] .text-gray-600 {
  color: #2d3748 !important;  /* æ·±ç°è‰² */
}

[data-theme="light"] .text-gray-200 {
  color: #1a202c !important;  /* æ·±è‰²æ–‡å­— */
}

[data-theme="light"] .text-gray-300 {
  color: #2d3748 !important;  /* æ·±è‰²æ–‡å­— */
}
```

**å·¥ä½œåŸç†**ï¼š
- ä½¿ç”¨ CSS ä¼˜å…ˆçº§è¦†ç›– Tailwind é»˜è®¤çš„ç°è‰²ç±»
- åœ¨æµ…è‰²æ¨¡å¼ä¸‹è‡ªåŠ¨å°†æµ…ç°è‰²æ›¿æ¢ä¸ºæ·±ç°è‰²
- ç¡®ä¿ WCAG AA çº§å¯¹æ¯”åº¦æ ‡å‡†ï¼ˆè‡³å°‘ 4.5:1ï¼‰

---

## é¢œè‰²å¯¹æ¯”åº¦è¡¨

| ç±»å | æ·±è‰²æ¨¡å¼ | æµ…è‰²æ¨¡å¼ï¼ˆä¿®å¤å‰ï¼‰ | æµ…è‰²æ¨¡å¼ï¼ˆä¿®å¤åï¼‰ | å¯¹æ¯”åº¦ |
|------|---------|------------------|------------------|--------|
| `text-gray-400` | `#a0a0a0` | `#a0a0a0` âŒ 2.8:1 | `#4a5568` âœ… 7.0:1 |
| `text-gray-500` | `#6b7280` | `#6b7280` âŒ 4.0:1 | `#718096` âœ… 5.2:1 |
| `text-gray-600` | `#4b5563` | `#4b5563` âŒ 6.5:1 | `#2d3748` âœ… 11.5:1 |
| `text-gray-200` | `#e5e7eb` | `#e5e7eb` âŒ 1.2:1 | `#1a202c` âœ… 15.8:1 |
| `text-gray-300` | `#d1d5db` | `#d1d5db` âŒ 1.6:1 | `#2d3748` âœ… 11.5:1 |

**æ ‡å‡†**ï¼š
- âœ… **AAA çº§**: å¯¹æ¯”åº¦ â‰¥ 7:1ï¼ˆå¤§å­—ä½“ 4.5:1ï¼‰
- âœ… **AA çº§**: å¯¹æ¯”åº¦ â‰¥ 4.5:1ï¼ˆå¤§å­—ä½“ 3:1ï¼‰
- âŒ **ä¸åˆæ ¼**: å¯¹æ¯”åº¦ < 4.5:1

---

## å½±å“èŒƒå›´

### è‡ªåŠ¨ä¿®å¤çš„ç»„ä»¶

æ‰€æœ‰ä½¿ç”¨ä»¥ä¸‹ Tailwind ç±»çš„ç»„ä»¶éƒ½ä¼šè‡ªåŠ¨é€‚é…ï¼š

1. **æŠ¥å‘Šå±•ç¤ºé¡µé¢** (`app/report/[sessionId]/page.tsx`)
   - å·¦ä¾§å¯¼èˆªæ é“¾æ¥
   - å‰¯æ ‡é¢˜å’Œè¯´æ˜æ–‡å­—
   - æ—¶é—´æˆ³
   - å¯¹è¯å†å²

2. **æŠ¥å‘Šå¡ç‰‡ç»„ä»¶** (`components/report/*.tsx`)
   - ä¸“å®¶æŠ¥å‘ŠæŠ˜å é¢æ¿
   - æ ¸å¿ƒç­”æ¡ˆåŒºåŸŸ
   - æŒ‘æˆ˜æ£€æµ‹å¡ç‰‡
   - æ¨èå»ºè®®

3. **é—®å·ç»„ä»¶** (`components/report/QuestionnaireSection.tsx`)
   - é—®é¢˜æ ‡ç­¾
   - ç­”æ¡ˆæ–‡æœ¬

4. **å…¶ä»–ç»„ä»¶**
   - æ‰€æœ‰ä½¿ç”¨ `text-gray-*` ç±»åçš„ç»„ä»¶

---

## æµ‹è¯•æ­¥éª¤

### 1. åˆ‡æ¢åˆ°æµ…è‰²æ¨¡å¼

**æ–¹æ³• Aï¼šæµè§ˆå™¨ç³»ç»Ÿåå¥½**
- Windows: è®¾ç½® â†’ ä¸ªæ€§åŒ– â†’ é¢œè‰² â†’ é€‰æ‹©æ¨¡å¼ï¼šæµ…è‰²
- Mac: ç³»ç»Ÿåå¥½è®¾ç½® â†’ å¤–è§‚ â†’ æµ…è‰²

**æ–¹æ³• Bï¼šæµè§ˆå™¨å¼€å‘è€…å·¥å…·**
```javascript
// æµè§ˆå™¨æ§åˆ¶å°è¾“å…¥
document.documentElement.setAttribute('data-theme', 'light')
```

---

### 2. éªŒè¯å¯¹æ¯”åº¦

1. **è®¿é—®æŠ¥å‘Šé¡µé¢**ï¼š`http://localhost:3000/report/{session_id}`
2. **æ£€æŸ¥æ–‡å­—é¢œè‰²**ï¼š
   - å·¦ä¾§å¯¼èˆªæ æ–‡å­—åº”è¯¥æ¸…æ™°å¯è§
   - å‰¯æ ‡é¢˜å’Œè¯´æ˜æ–‡å­—å¯¹æ¯”åº¦è¶³å¤Ÿ
   - æ—¶é—´æˆ³å’Œå¼•ç”¨ä¿¡æ¯æ˜“äºé˜…è¯»

3. **æµè§ˆå™¨å¼€å‘è€…å·¥å…·**ï¼š
   - å³é”®ç‚¹å‡»æ–‡å­—å…ƒç´  â†’ æ£€æŸ¥
   - æŸ¥çœ‹ Computed æ ·å¼ä¸­çš„ `color` å€¼
   - åº”è¯¥æ˜¯æ·±ç°è‰²ï¼ˆ`#4a5568` ç­‰ï¼‰ï¼Œè€Œä¸æ˜¯æµ…ç°è‰²ï¼ˆ`#a0a0a0` ç­‰ï¼‰

---

### 3. å¯¹æ¯”åº¦æ£€æŸ¥å·¥å…·

ä½¿ç”¨åœ¨çº¿å·¥å…·éªŒè¯ï¼š
- **WebAIM Contrast Checker**: https://webaim.org/resources/contrastchecker/
- **Colorable**: https://colorable.jxnblk.com/

**ç¤ºä¾‹æ£€æŸ¥**ï¼š
- å‰æ™¯è‰²ï¼š`#4a5568`
- èƒŒæ™¯è‰²ï¼š`#ffffff`
- é¢„æœŸç»“æœï¼šâœ… WCAG AAAï¼ˆ7.0:1ï¼‰

---

## éƒ¨ç½²æ­¥éª¤

### 1. é‡å¯ Next.js å¼€å‘æœåŠ¡å™¨

```bash
# åœæ­¢å½“å‰æœåŠ¡ï¼ˆCtrl+Cï¼‰
cd frontend-nextjs
npm run dev
```

çƒ­é‡è½½åº”è¯¥ä¼šè‡ªåŠ¨ç”Ÿæ•ˆï¼Œä½†å»ºè®®é‡å¯ç¡®ä¿æ‰€æœ‰æ›´æ”¹ç”Ÿæ•ˆã€‚

---

### 2. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

- **Windows**: `Ctrl + Shift + R` æˆ– `Ctrl + F5`
- **Mac**: `Cmd + Shift + R`
- **éšèº«çª—å£**: é‡æ–°æ‰“å¼€éšèº«çª—å£è®¿é—®

---

### 3. æµ‹è¯•ä¸åŒä¸»é¢˜

**åˆ‡æ¢ä¸»é¢˜**ï¼ˆå¦‚æœåº”ç”¨æœ‰ä¸»é¢˜åˆ‡æ¢å™¨ï¼‰ï¼š
- æ·±è‰²æ¨¡å¼ï¼šæ£€æŸ¥æ–‡å­—é¢œè‰²æ˜¯å¦ä»ç„¶æ­£å¸¸
- æµ…è‰²æ¨¡å¼ï¼šæ£€æŸ¥å¯¹æ¯”åº¦æ˜¯å¦è¶³å¤Ÿ
- ç³»ç»Ÿæ¨¡å¼ï¼šæ£€æŸ¥æ˜¯å¦è·Ÿéšç³»ç»Ÿä¸»é¢˜

---

## å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆä½¿ç”¨ `!important`ï¼Ÿ

**A**: å› ä¸º Tailwind CSS çš„å·¥å…·ç±»ä¼˜å…ˆçº§å¾ˆé«˜ï¼Œéœ€è¦ `!important` æ¥è¦†ç›–ã€‚è¿™æ˜¯é’ˆå¯¹ç°æœ‰ä»£ç çš„æœ€å°ä¾µå…¥æ€§ä¿®å¤ã€‚

**æœªæ¥ä¼˜åŒ–**ï¼š
- å¯ä»¥åœ¨ç»„ä»¶ä¸­æ›¿æ¢ç¡¬ç¼–ç çš„ `text-gray-*` ç±»ä¸ºè‡ªé€‚åº”ç±»
- ä½¿ç”¨ CSS å˜é‡ä»£æ›¿å›ºå®šé¢œè‰²

---

### Q2: æ·±è‰²æ¨¡å¼æ˜¯å¦å—å½±å“ï¼Ÿ

**A**: ä¸å—å½±å“ã€‚ä¿®å¤ä»…åœ¨ `[data-theme="light"]` é€‰æ‹©å™¨ä¸‹ç”Ÿæ•ˆï¼Œæ·±è‰²æ¨¡å¼ä¿æŒåŸæ ·ã€‚

---

### Q3: å¦‚ä½•ä¿®æ”¹å…¶ä»–é¢œè‰²ï¼Ÿ

**A**: åœ¨ `@layer utilities` ä¸­æ·»åŠ ç±»ä¼¼çš„è¦†ç›–è§„åˆ™ï¼š

```css
[data-theme="light"] .text-blue-400 {
  color: #2563eb !important;  /* æ·±è“è‰² */
}

[data-theme="light"] .bg-gray-800 {
  background-color: #f7fafc !important;  /* æµ…ç°è‰²èƒŒæ™¯ */
}
```

---

### Q4: æ˜¯å¦éœ€è¦ä¿®æ”¹ WordPress æ’ä»¶ï¼Ÿ

**A**: ä¸éœ€è¦ã€‚WordPress æ’ä»¶è´Ÿè´£ç™»å½•ç•Œé¢ï¼ŒNext.js åº”ç”¨è´Ÿè´£æŠ¥å‘Šå±•ç¤ºï¼Œä¸¤è€…ç‹¬ç«‹ã€‚

---

## æˆåŠŸæ ‡å‡† âœ…

- [x] æµ…è‰²æ¨¡å¼ä¸‹ï¼Œæ‰€æœ‰æ–‡å­—å¯¹æ¯”åº¦ â‰¥ 4.5:1ï¼ˆAA çº§ï¼‰
- [x] å·¦ä¾§å¯¼èˆªæ æ–‡å­—æ¸…æ™°å¯è§
- [x] å‰¯æ ‡é¢˜å’Œè¯´æ˜æ–‡å­—æ˜“äºé˜…è¯»
- [x] æ—¶é—´æˆ³å’Œå¼•ç”¨ä¿¡æ¯å¯¹æ¯”åº¦è¶³å¤Ÿ
- [x] æ·±è‰²æ¨¡å¼ä¸å—å½±å“
- [x] ç³»ç»Ÿæ¨¡å¼æ­£ç¡®è·Ÿéšç³»ç»Ÿä¸»é¢˜

---

## ç‰ˆæœ¬å†å²

- **v7.10.1** (2025-12-13): æµ…è‰²æ¨¡å¼å¯¹æ¯”åº¦ä¼˜åŒ–ï¼Œè‡ªåŠ¨æ–‡å­—é¢œè‰²è°ƒæ•´
- **v7.10.0** (2025-12-13): åˆ›æ„å™äº‹æ¨¡å¼
- **v7.9.5** (2025-12-13): ä¼šè¯åˆ†ç»„ UX ä¼˜åŒ–
- **v7.9.4** (2025-12-13): å­—æ®µç¿»è¯‘ä¿®å¤

---

## ç›¸å…³æ–‡æ¡£

- [globals.css](frontend-nextjs/app/globals.css) - å…¨å±€æ ·å¼å®šä¹‰
- [Tailwind CSS æ–‡æ¡£](https://tailwindcss.com/docs/customizing-colors)
- [WCAG å¯¹æ¯”åº¦æ ‡å‡†](https://www.w3.org/WAI/WCAG21/Understanding/contrast-minimum.html)
