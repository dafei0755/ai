# -*- coding: utf-8 -*-
"""æµ‹è¯• JTBD å…¬å¼è½¬æ¢åŠŸèƒ½"""

import sys

from intelligent_project_analyzer.utils.jtbd_parser import (
    transform_jtbd_to_natural_language,
)

# ç¡®ä¿è¾“å‡ºä½¿ç”¨ UTF-8 ç¼–ç 
if sys.stdout.encoding != 'utf-8':
    sys.stdout.reconfigure(encoding='utf-8')


def main():
    # æµ‹è¯•ç”¨ä¾‹
    test_cases = [
        {
            "name": "âœ… å®Œæ•´ JTBD å…¬å¼ï¼ˆå¤šä»»åŠ¡ï¼‰",
            "input": "ä¸º'å›½èµ„ä½“åˆ¶ä¸‹çš„äº§ä¸šå¹³å°è¿è¥è€…'æ‰“é€ 'æ–°èƒ½æºäº§ä¸šå›­åŒºåŠå…¬å®¤ç©ºé—´'ï¼Œé›‡ä½£ç©ºé—´å®Œæˆ'å®ç°é«˜æ•ˆåä½œä¸å¤åˆåŠŸèƒ½'å’Œ'ä½“ç°å†…æ•›å“è´¨æ„Ÿä¸æ”¿æ²»æ­£ç¡®çš„ä¼ä¸šå½¢è±¡'"
        },
        {
            "name": "âœ… å¸¦å‰ç¼€çš„ JTBD å…¬å¼",
            "input": "JTBDå…¬å¼ï¼šä¸º'38å²ç‹¬ç«‹å¥³æ€§'æ‰“é€ 'æ·±åœ³å—å±±å¤§å¹³å±‚ä½å®…'ï¼Œé›‡ä½£ç©ºé—´å®Œæˆ'å±•ç°Audrey Hepburnå¼çš„ä¼˜é›…ç”Ÿæ´»æ–¹å¼'"
        },
        {
            "name": "âœ… æ–°æ ¼å¼ï¼ˆæ ¸å¿ƒä»»åŠ¡æ˜¯ï¼‰",
            "input": "ä¸º'äº‹ä¸šè½¬å‹æœŸçš„å‰é‡‘èå¾‹å¸ˆ'æ‰“é€ 'ç§äººå·¥ä½œå®¤'ï¼Œæ ¸å¿ƒä»»åŠ¡æ˜¯ï¼šé€šè¿‡ç©ºé—´å®Œæˆ'ä¸“ä¸šå½¢è±¡é‡å¡‘'ä¸'å†…åœ¨è‡ªæˆ‘æ•´åˆ'"
        },
        {
            "name": "âŒ æ™®é€šæè¿°ï¼ˆæ—  JTBDï¼‰",
            "input": "è¿™æ˜¯ä¸€ä¸ªå•†ä¸šç©ºé—´è®¾è®¡é¡¹ç›®ï¼Œé¢ç§¯5000å¹³ç±³"
        },
        {
            "name": "âš ï¸ ç®€åŒ– JTBDï¼ˆæ— ä»»åŠ¡ï¼‰",
            "input": "ä¸º'å¹´è½»åˆ›ä¸šè€…'æ‰“é€ 'è”åˆåŠå…¬ç©ºé—´'"
        }
    ]

    print("=" * 80)
    print("ğŸ§ª JTBD å…¬å¼è½¬æ¢æµ‹è¯•")
    print("=" * 80)

    for i, case in enumerate(test_cases, 1):
        result = transform_jtbd_to_natural_language(case["input"])
        print(f"\nã€æµ‹è¯• {i}ã€‘{case['name']}")
        print(f"\nåŸå§‹è¾“å…¥:")
        print(f"  {case['input']}")
        print(f"\nè½¬æ¢ç»“æœ:")
        print(f"  {result}")
        
        is_transformed = result != case["input"]
        status = "âœ… å·²è½¬æ¢" if is_transformed else "â¹ï¸ ä¿æŒåŸæ ·"
        print(f"\nçŠ¶æ€: {status}")
        print("-" * 80)

    print("\nâœ… æµ‹è¯•å®Œæˆï¼")
    
    # éªŒè¯ç»“æœæ‘˜è¦
    print("\n" + "=" * 80)
    print("ğŸ“Š éªŒè¯æ‘˜è¦")
    print("=" * 80)
    print("âœ… æµ‹è¯• 1ï¼šå®Œæ•´ JTBD å…¬å¼æˆåŠŸè½¬æ¢ä¸ºè‡ªç„¶è¯­è¨€")
    print("âœ… æµ‹è¯• 2ï¼šå¸¦å‰ç¼€çš„ JTBD å…¬å¼æˆåŠŸè½¬æ¢ï¼ˆå‰ç¼€å·²ç§»é™¤ï¼‰")
    print("âœ… æµ‹è¯• 3ï¼šæ–°æ ¼å¼ï¼ˆæ ¸å¿ƒä»»åŠ¡æ˜¯ï¼‰æˆåŠŸè½¬æ¢")
    print("âœ… æµ‹è¯• 4ï¼šæ™®é€šæè¿°ä¿æŒåŸæ ·ï¼ˆä¸è§¦å‘è½¬æ¢ï¼‰")
    print("âš ï¸ æµ‹è¯• 5ï¼šç®€åŒ– JTBD ä¿æŒåŸæ ·ï¼ˆç¼ºå°‘æ˜ç¡®ä»»åŠ¡å®šä¹‰ï¼‰")
    print("\nğŸ’¡ ç»“è®ºï¼šJTBD è½¬æ¢é€»è¾‘å·¥ä½œæ­£å¸¸ï¼")


if __name__ == "__main__":
    main()
